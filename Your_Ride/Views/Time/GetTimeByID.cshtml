@model Your_Ride.ViewModels.TimeViewModel.TimeVM

<h2 class="mb-4">Appointment Time Details</h2>

<div class="row g-4">
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">Time Details</div>
            <div class="card-body">
                <p><strong>Time:</strong> @Model.TimeOnly.ToString("hh:mm tt")</p>
                <p><strong> Fee:</strong> @Model.Fee</p>

                <p><strong>Appointment Date:</strong> @Model.Appointment.Date.ToString("MM/dd/yyyy")</p>
                <p><strong>Completed:</strong> @(Model.HasCompleted ? "Yes" : "No")</p>
                <p><strong>Locations:</strong></p>
                <ul class="list-unstyled">
                    @foreach (var loc in Model.LocationImages)
                    {
                        <li class="mb-2">
                            @loc.Location
                            <br />
                            <img src="@loc.ImagePath" alt="@loc.Location" class="img-thumbnail" width="120" />
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-header bg-success text-white">Bus Details</div>
            <div class="card-body">
                <p><strong>Bus Monitor:</strong> @Model.BusGuide.FirstName @Model.BusGuide.LastName</p>
                <p><strong>Driver:</strong> @Model.Bus.DriverName</p>
                <p><strong>Plate Number:</strong> @Model.Bus.PlateNumber</p>
                <p><strong>Seats:</strong> @Model.Bus.NumberOfSeats</p>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-header bg-warning text-white">Appointment Info</div>
            <div class="card-body">
                <p><strong>Date:</strong> @Model.Appointment.Date.ToString("MM/dd/yyyy")</p>
            </div>
        </div>
    </div>
</div>

<div class="mt-3 d-flex gap-2">
    @if (Model.HasCompleted == false)
    {
        <form asp-action="CompleteTime" method="post" style="display:inline;">
            <input type="hidden" name="id" value="@Model.Id" />
            <button type="submit" class="btn btn-warning">Complete</button>
        </form>
    }
    <a asp-action="EditTime" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
    <a asp-action="DeleteTime" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
    <a asp-action="GetAllTimes" class="btn btn-secondary">Back to List</a>
</div>
