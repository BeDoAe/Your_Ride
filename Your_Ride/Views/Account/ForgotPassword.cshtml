@* @model Your_Ride.ViewModels.Account.ForgotPasswordVM

<h2>Forgot Password</h2>

<form asp-action="ForgotPassword" method="post">
    <label>Username:</label>
    <input asp-for="UserName" id="username" class="form-control" required />

    <label>Select Method:</label>
    <select asp-for="SelectedMethod" id="methodSelect" class="form-control">
        <option value="" disabled selected>Choose Method</option>
    </select>

    <button type="submit" class="btn btn-primary" id="sendOtpBtn" disabled>Send OTP</button>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#username").on("keyup", function () {
            var username = $(this).val();
            if (username.length >= 3) {
                $.ajax({
                    url: "/Account/GetUserMaskedDetails",
                    type: "GET",
                    data: { username: username },
                    success: function (data) {
                        if (data.success) {
                            $("#methodSelect").empty().append('<option value="" disabled selected>Choose Method</option>');

                            if (data.maskedEmail) {
                                $("#methodSelect").append(`<option value="Email">Email (${data.maskedEmail})</option>`);
                            }
                            if (data.maskedPhone) {
                                $("#methodSelect").append(`<option value="Phone">Phone (${data.maskedPhone})</option>`);
                            }

                            $("#sendOtpBtn").prop("disabled", false);
                        } else {
                            $("#methodSelect").empty().append('<option value="" disabled selected>User not found</option>');
                            $("#sendOtpBtn").prop("disabled", true);
                        }
                    }
                });
            } else {
                $("#methodSelect").empty().append('<option value="" disabled selected>Choose Method</option>');
                $("#sendOtpBtn").prop("disabled", true);
            }
        });
    });
</script>
 *@

                            @model Your_Ride.ViewModels.Account.ForgotPasswordVM

<h2>Forgot Password</h2>

<form asp-action="ForgotPassword" method="post">
    <div class="mb-3">
        <label asp-for="UserName" class="form-label">Username</label>
        <input asp-for="UserName" class="form-control" required />
        <span asp-validation-for="UserName" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="FavoriteColor" class="form-label">What is your favorite color?</label>
        <input asp-for="FavoriteColor" class="form-control" required />
        <span asp-validation-for="FavoriteColor" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</form>
